
{
  "name": "user_experiences",
  "options": {
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["user_id", "experience_code", "status", "joined_at"],
        "properties": {
          "user_id": {
            "bsonType": "string",
            "description": "사용자 ID"
          },
          "experience_code": {
            "bsonType": "string",
            "description": "체험단 코드"
          },
          "status": {
            "bsonType": "string",
            "enum": ["joined", "reviewing", "completed", "rejected"],
            "description": "참여 상태"
          },
          "review_content": {
            "bsonType": "string",
            "description": "작성한 리뷰 내용"
          },
          "review_rating": {
            "bsonType": "int",
            "minimum": 1,
            "maximum": 5,
            "description": "별점 평가"
          },
          "review_images": {
            "bsonType": "array",
            "description": "리뷰 이미지 URL 배열"
          },
          "points_earned": {
            "bsonType": "number",
            "minimum": 0,
            "description": "획득한 포인트"
          },
          "points_paid": {
            "bsonType": "bool",
            "description": "포인트 지급 완료 여부"
          },
          "joined_at": {
            "bsonType": "string",
            "title": "datetime",
            "description": "참여일시"
          },
          "review_submitted_at": {
            "bsonType": "string",
            "title": "datetime",
            "description": "리뷰 제출일시"
          },
          "completed_at": {
            "bsonType": "string",
            "title": "datetime",
            "description": "완료일시"
          }
        },
        "additionalProperties": true
      }
    },
    "validationLevel": "moderate",
    "validationAction": "warn"
  }
}
